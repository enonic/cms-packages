<datasources>
  <datasource result-element="tags">
    <methodname>getContentByCategory</methodname>
    <parameters>
      <parameter name="cat" type="int[]">3</parameter>
      <parameter name="levels" type="int">1</parameter>
      <parameter name="query" type="string"/>
      <parameter name="orderBy" type="string"/>
      <parameter name="index" type="int">0</parameter>
      <parameter name="count" type="int">10</parameter>
      <parameter name="includeData" type="boolean">true</parameter>
      <parameter name="childrenLevel" type="int">1</parameter>
      <parameter name="parentLevel" type="int">0</parameter>
    </parameters>
  </datasource>
  <datasource result-element="spots">
    <methodname>getMenuBranch</methodname>
    <parameters>
      <parameter name="menuItemKey" type="int">${pageKey("/spots")}</parameter>
      <parameter name="includeTopLevel" type="boolean">false</parameter>
      <parameter name="startLevel" type="int">1</parameter>
      <parameter name="levels" type="int">0</parameter>
    </parameters>
  </datasource>
  <datasource result-element="searched-spots">
    <methodname>getContentBySection</methodname>
    <parameters>
      <parameter name="id" type="int">${select(param.key,-1)}</parameter>
      <parameter name="levels" type="int">1</parameter>
      <parameter name="query" type="string">${ isempty(param.spottags) ? '' : concat(concat('data/tags IN (', param.spottags),')') }</parameter>
      <parameter name="orderby" type="string">title ASC</parameter>
      <parameter name="index" type="int">0</parameter>
      <parameter name="count" type="int">1</parameter>
      <parameter name="includeData" type="boolean">true</parameter>
      <parameter name="childrenLevel" type="int">1</parameter>
      <parameter name="parentLevel" type="int">0</parameter>
    </parameters>
  </datasource>
  <datasource result-element="random-spot">
    <methodname>getRandomContentBySection</methodname>
    <parameters>
      <parameter name="id" type="int">${ isempty(param.spot) ? select(portal.pageKey,-1) : pageKey(concat(concat(concat("/spots/",param.country),"/"), param.spot))}</parameter>
      <parameter name="levels" type="int">1</parameter>
      <parameter name="query" type="string"/>
      <parameter name="count" type="int">1</parameter>
      <parameter name="includeData" type="boolean">true</parameter>
      <parameter name="childrenLevel" type="int">1</parameter>
      <parameter name="parentLevel" type="int">0</parameter>
    </parameters>
  </datasource>
  <datasource result-element="background-images">
    <methodname>getRandomContentBySection</methodname>
    <parameters>
      <parameter name="id" type="int">${ isempty(param.spot) ? select(portal.pageKey,-1) : pageKey(concat(concat(concat("/spots/",param.country),"/"), param.spot))}</parameter>
      <parameter name="levels" type="int">3</parameter>
      <parameter name="query" type="string"/>
      <parameter name="count" type="int">1</parameter>
      <parameter name="includeData" type="boolean">true</parameter>
      <parameter name="childrenLevel" type="int">3</parameter>
      <parameter name="parentLevel" type="int">0</parameter>
    </parameters>
  </datasource>
</datasources>